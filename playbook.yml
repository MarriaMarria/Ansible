---
- name: First project with Ansible
  hosts: maria-from-Azure
  remote_user: maria-queen-of-azure
  become: yes
  become_method: sudo

  tasks: 
    - name: installing packages
      apt: name={{ item }} update_cache=yes state=latest
      with_items:
        - git
        - zsh
        - python-pip
        - python3-pip
        - postgresql
    
        #
    # - name: create postgresql
    #   user: postgres
    #   sudo: yes
    #   vars_files:
    #     - vars/main.yml
        #
    - name: install psycopg2-binary and Flask with pip3
      pip: name={{ item }} state=latest
      with_items:
        - psycopg2-binary     
        - Flask
        executable: pip3



    - name: clone git repository
      git:
        repo: https://github.com/MarriaMarria/Ansible
        dest: /home/maria-queen-of-azure/Projects/Ansible
        update: yes
        # force: yes

      # git:
      #   repo: "https://github.com/{{ github_user }}/{{ app_name }}.git"
      #   dest: /home/{{ ansible_ssh_user }}/{{ app_name }}
      #   update: yes # Does a git pull if the repo already exists

...
    
#   tasks:
#     - name: install pip
#       apt:
#         name: python-pip
#     - name: install pip3
#       apt:
#         name: python3-pip
#     - name: install psycopg2-binary and Flask
#       pip:
#         name:
#           - psycopg2-binary     
#           - Flask
#     - name: install postgres
#       apt: 
#         name: postgresql
#         update_cache: yes  
#     - name: install git
#       apt: 
#         name: git 
#         update_cache: yes  
#     - name: clone git repository
#       git:
#         repo: https://github.com/MarriaMarria/Ansible
#         dest: /home/maria-queen-of-azure/Projects/Ansible
# ...
    

